<xml>
	<!-- include default configuration file (relative to this file) -->
	<include src="{EXT}/conf/common.conf.xml" />

	<config>
		<webport>6372</webport>
		<!-- where is your htdocs root directory -->
		<!-- this is needed to create absolute urls -->
		<!-- default is relative to the config file -->
		<webroot>{CONF}/..</webroot>
		<directory>{CONF}/..</directory>
		<!-- disable checksums -->
		<crc-check>0</crc-check>
		<crc-file>0</crc-file>
	</config>

	<!-- prepare operations -->
	<prepare step="prepare" disabled="false" >
		<!-- create neccessary paths -->
		<mkdir path="dist" />
	</prepare>

	<merge>

		<js id="sofa.js">

			<prefix path="LICENSE.txt" />
			<prepend>'use strict';</prepend>
			<prepend>var IAU = {};</prepend>
			<prepend>(function(iau) {</prepend>

			<input path="src/sofam.js" />

			<input path="src/iau/a2af.js" />
			<input path="src/iau/a2tf.js" />
			<input path="src/iau/ab.js" />
			<input path="src/iau/af2a.js" />
			<input path="src/iau/anp.js" />
			<input path="src/iau/anpm.js" />
			<input path="src/iau/apcg.js" />
			<input path="src/iau/apcg13.js" />
			<input path="src/iau/apci.js" />
			<input path="src/iau/apci13.js" />
			<input path="src/iau/apco.js" />
			<input path="src/iau/apco13.js" />
			<input path="src/iau/apcs.js" />
			<input path="src/iau/apcs13.js" />
			<input path="src/iau/aper.js" />
			<input path="src/iau/aper13.js" />
			<input path="src/iau/apio.js" />
			<input path="src/iau/apio13.js" />
			<input path="src/iau/atci13.js" />
			<input path="src/iau/atciq.js" />
			<input path="src/iau/atciqn.js" />
			<input path="src/iau/atciqz.js" />
			<input path="src/iau/atco13.js" />
			<input path="src/iau/atic13.js" />
			<input path="src/iau/aticq.js" />
			<input path="src/iau/aticqn.js" />
			<input path="src/iau/atio13.js" />
			<input path="src/iau/atioq.js" />
			<input path="src/iau/atoc13.js" />
			<input path="src/iau/atoi13.js" />
			<input path="src/iau/atoiq.js" />
			<input path="src/iau/bi00.js" />
			<input path="src/iau/bp00.js" />
			<input path="src/iau/bp06.js" />
			<input path="src/iau/bpn2xy.js" />
			<input path="src/iau/c2i00a.js" />
			<input path="src/iau/c2i00b.js" />
			<input path="src/iau/c2i06a.js" />
			<input path="src/iau/c2ibpn.js" />
			<input path="src/iau/c2ixy.js" />
			<input path="src/iau/c2ixys.js" />
			<input path="src/iau/c2s.js" />
			<input path="src/iau/c2t00a.js" />
			<input path="src/iau/c2t00b.js" />
			<input path="src/iau/c2t06a.js" />
			<input path="src/iau/c2tcio.js" />
			<input path="src/iau/c2teqx.js" />
			<input path="src/iau/c2tpe.js" />
			<input path="src/iau/c2txy.js" />
			<input path="src/iau/cal2jd.js" />
			<input path="src/iau/cp.js" />
			<input path="src/iau/cpv.js" />
			<input path="src/iau/cr.js" />
			<input path="src/iau/d2dtf.js" />
			<input path="src/iau/d2tf.js" />
			<input path="src/iau/dat.js" />
			<input path="src/iau/dtdb.js" />
			<input path="src/iau/dtf2d.js" />
			<input path="src/iau/ee00.js" />
			<input path="src/iau/ee00a.js" />
			<input path="src/iau/ee00b.js" />
			<input path="src/iau/ee06a.js" />
			<input path="src/iau/eect00.js" />
			<input path="src/iau/eform.js" />
			<input path="src/iau/eo06a.js" />
			<input path="src/iau/eors.js" />
			<input path="src/iau/epb.js" />
			<input path="src/iau/epb2jd.js" />
			<input path="src/iau/epj.js" />
			<input path="src/iau/epj2jd.js" />
			<input path="src/iau/epv00.js" />
			<input path="src/iau/eqeq94.js" />
			<input path="src/iau/era00.js" />
			<input path="src/iau/fad03.js" />
			<input path="src/iau/fae03.js" />
			<input path="src/iau/faf03.js" />
			<input path="src/iau/faju03.js" />
			<input path="src/iau/fal03.js" />
			<input path="src/iau/falp03.js" />
			<input path="src/iau/fama03.js" />
			<input path="src/iau/fame03.js" />
			<input path="src/iau/fane03.js" />
			<input path="src/iau/faom03.js" />
			<input path="src/iau/fapa03.js" />
			<input path="src/iau/fasa03.js" />
			<input path="src/iau/faur03.js" />
			<input path="src/iau/fave03.js" />
			<input path="src/iau/fk52h.js" />
			<input path="src/iau/fk5hip.js" />
			<input path="src/iau/fk5hz.js" />
			<input path="src/iau/fw2m.js" />
			<input path="src/iau/fw2xy.js" />
			<input path="src/iau/gc2gd.js" />
			<input path="src/iau/gc2gde.js" />
			<input path="src/iau/gd2gc.js" />
			<input path="src/iau/gd2gce.js" />
			<input path="src/iau/gmst00.js" />
			<input path="src/iau/gmst06.js" />
			<input path="src/iau/gmst82.js" />
			<input path="src/iau/gst00a.js" />
			<input path="src/iau/gst00b.js" />
			<input path="src/iau/gst06.js" />
			<input path="src/iau/gst06a.js" />
			<input path="src/iau/gst94.js" />
			<input path="src/iau/h2fk5.js" />
			<input path="src/iau/hfk5z.js" />
			<input path="src/iau/ir.js" />
			<input path="src/iau/jd2cal.js" />
			<input path="src/iau/jdcalf.js" />
			<input path="src/iau/ld.js" />
			<input path="src/iau/ldn.js" />
			<input path="src/iau/ldsun.js" />
			<input path="src/iau/num00a.js" />
			<input path="src/iau/num00b.js" />
			<input path="src/iau/num06a.js" />
			<input path="src/iau/numat.js" />
			<input path="src/iau/nut00a.js" />
			<input path="src/iau/nut00b.js" />
			<input path="src/iau/nut06a.js" />
			<input path="src/iau/nut80.js" />
			<input path="src/iau/nutm80.js" />
			<input path="src/iau/obl06.js" />
			<input path="src/iau/obl80.js" />
			<input path="src/iau/p06e.js" />
			<input path="src/iau/p2pv.js" />
			<input path="src/iau/p2s.js" />
			<input path="src/iau/pap.js" />
			<input path="src/iau/pas.js" />
			<input path="src/iau/pb06.js" />
			<input path="src/iau/pdp.js" />
			<input path="src/iau/pfw06.js" />
			<input path="src/iau/plan94.js" />
			<input path="src/iau/pm.js" />
			<input path="src/iau/pmat00.js" />
			<input path="src/iau/pmat06.js" />
			<input path="src/iau/pmat76.js" />
			<input path="src/iau/pmp.js" />
			<input path="src/iau/pmpx.js" />
			<input path="src/iau/pmsafe.js" />
			<input path="src/iau/pn.js" />
			<input path="src/iau/pn00.js" />
			<input path="src/iau/pn00a.js" />
			<input path="src/iau/pn00b.js" />
			<input path="src/iau/pn06.js" />
			<input path="src/iau/pn06a.js" />
			<input path="src/iau/pnm00a.js" />
			<input path="src/iau/pnm00b.js" />
			<input path="src/iau/pnm06a.js" />
			<input path="src/iau/pnm80.js" />
			<input path="src/iau/pom00.js" />
			<input path="src/iau/ppp.js" />
			<input path="src/iau/ppsp.js" />
			<input path="src/iau/pr00.js" />
			<input path="src/iau/prec76.js" />
			<input path="src/iau/pv2p.js" />
			<input path="src/iau/pv2s.js" />
			<input path="src/iau/pvdpv.js" />
			<input path="src/iau/pvm.js" />
			<input path="src/iau/pvmpv.js" />
			<input path="src/iau/pvppv.js" />
			<input path="src/iau/pvstar.js" />
			<input path="src/iau/pvtob.js" />
			<input path="src/iau/pvu.js" />
			<input path="src/iau/pvup.js" />
			<input path="src/iau/pvxpv.js" />
			<input path="src/iau/pxp.js" />
			<input path="src/iau/refco.js" />
			<input path="src/iau/rm2v.js" />
			<input path="src/iau/rv2m.js" />
			<input path="src/iau/rx.js" />
			<input path="src/iau/rxp.js" />
			<input path="src/iau/rxpv.js" />
			<input path="src/iau/rxr.js" />
			<input path="src/iau/ry.js" />
			<input path="src/iau/rz.js" />
			<input path="src/iau/s00.js" />
			<input path="src/iau/s00a.js" />
			<input path="src/iau/s00b.js" />
			<input path="src/iau/s06.js" />
			<input path="src/iau/s06a.js" />
			<input path="src/iau/s2c.js" />
			<input path="src/iau/s2p.js" />
			<input path="src/iau/s2pv.js" />
			<input path="src/iau/s2xpv.js" />
			<input path="src/iau/sepp.js" />
			<input path="src/iau/seps.js" />
			<input path="src/iau/sp00.js" />
			<input path="src/iau/starpm.js" />
			<input path="src/iau/starpv.js" />
			<input path="src/iau/sxp.js" />
			<input path="src/iau/sxpv.js" />
			<input path="src/iau/taitt.js" />
			<input path="src/iau/taiut1.js" />
			<input path="src/iau/taiutc.js" />
			<input path="src/iau/tcbtdb.js" />
			<input path="src/iau/tcgtt.js" />
			<input path="src/iau/tdbtcb.js" />
			<input path="src/iau/tdbtt.js" />
			<input path="src/iau/tf2a.js" />
			<input path="src/iau/tf2d.js" />
			<input path="src/iau/tr.js" />
			<input path="src/iau/trxp.js" />
			<input path="src/iau/trxpv.js" />
			<input path="src/iau/tttai.js" />
			<input path="src/iau/tttcg.js" />
			<input path="src/iau/tttdb.js" />
			<input path="src/iau/ttut1.js" />
			<input path="src/iau/ut1tai.js" />
			<input path="src/iau/ut1tt.js" />
			<input path="src/iau/ut1utc.js" />
			<input path="src/iau/utctai.js" />
			<input path="src/iau/utcut1.js" />
			<input path="src/iau/xy06.js" />
			<input path="src/iau/xys00a.js" />
			<input path="src/iau/xys00b.js" />
			<input path="src/iau/xys06a.js" />
			<input path="src/iau/zp.js" />
			<input path="src/iau/zpv.js" />
			<input path="src/iau/zr.js" />
			<input path="src/iau/ltpequ.js" />
			<input path="src/iau/ltpecl.js" />
			<input path="src/iau/ltpb.js" />
			<input path="src/iau/ltp.js" />
			<input path="src/iau/lteqec.js" />
			<input path="src/iau/ltecm.js" />
			<input path="src/iau/lteceq.js" />
			<input path="src/iau/icrs2g.js" />
			<input path="src/iau/g2icrs.js" />
			<input path="src/iau/eqec06.js" />
			<input path="src/iau/ecm06.js" />
			<input path="src/iau/eceq06.js" />
			<append>
// export functions
iau.a2af    = iauA2af;
iau.a2tf    = iauA2tf;
iau.ab      = iauAb;
iau.af2a    = iauAf2a;
iau.anp     = iauAnp;
iau.anpm    = iauAnpm;
iau.apcg    = iauApcg;
iau.apcg13  = iauApcg13;
iau.apci    = iauApci;
iau.apci13  = iauApci13;
iau.apco    = iauApco;
iau.apco13  = iauApco13;
iau.apcs    = iauApcs;
iau.apcs13  = iauApcs13;
iau.aper    = iauAper;
iau.aper13  = iauAper13;
iau.apio    = iauApio;
iau.apio13  = iauApio13;
iau.atci13  = iauAtci13;
iau.atciq   = iauAtciq;
iau.atciqn  = iauAtciqn;
iau.atciqz  = iauAtciqz;
iau.atco13  = iauAtco13;
iau.atic13  = iauAtic13;
iau.aticq   = iauAticq;
iau.aticqn  = iauAticqn;
iau.atio13  = iauAtio13;
iau.atioq   = iauAtioq;
iau.atoc13  = iauAtoc13;
iau.atoi13  = iauAtoi13;
iau.atoiq   = iauAtoiq;
iau.bi00    = iauBi00;
iau.bp00    = iauBp00;
iau.bp06    = iauBp06;
iau.bpn2xy  = iauBpn2xy;
iau.c2i00a  = iauC2i00a;
iau.c2i00b  = iauC2i00b;
iau.c2i06a  = iauC2i06a;
iau.c2ibpn  = iauC2ibpn;
iau.c2ixy   = iauC2ixy;
iau.c2ixys  = iauC2ixys;
iau.c2s     = iauC2s;
iau.c2t00a  = iauC2t00a;
iau.c2t00b  = iauC2t00b;
iau.c2t06a  = iauC2t06a;
iau.c2tcio  = iauC2tcio;
iau.c2teqx  = iauC2teqx;
iau.c2tpe   = iauC2tpe;
iau.c2txy   = iauC2txy;
iau.cal2jd  = iauCal2jd;
iau.cp      = iauCp;
iau.cpv     = iauCpv;
iau.cr      = iauCr;
iau.d2dtf   = iauD2dtf;
iau.d2tf    = iauD2tf;
iau.dat     = iauDat;
iau.dtdb    = iauDtdb;
iau.dtf2d   = iauDtf2d;
iau.ee00    = iauEe00;
iau.ee00a   = iauEe00a;
iau.ee00b   = iauEe00b;
iau.ee06a   = iauEe06a;
iau.eect00  = iauEect00;
iau.eform   = iauEform;
iau.eo06a   = iauEo06a;
iau.eors    = iauEors;
iau.epb     = iauEpb;
iau.epb2jd  = iauEpb2jd;
iau.epj     = iauEpj;
iau.epj2jd  = iauEpj2jd;
iau.epv00   = iauEpv00;
iau.eqeq94  = iauEqeq94;
iau.era00   = iauEra00;
iau.fad03   = iauFad03;
iau.fae03   = iauFae03;
iau.faf03   = iauFaf03;
iau.faju03  = iauFaju03;
iau.fal03   = iauFal03;
iau.falp03  = iauFalp03;
iau.fama03  = iauFama03;
iau.fame03  = iauFame03;
iau.fane03  = iauFane03;
iau.faom03  = iauFaom03;
iau.fapa03  = iauFapa03;
iau.fasa03  = iauFasa03;
iau.faur03  = iauFaur03;
iau.fave03  = iauFave03;
iau.fk52h   = iauFk52h;
iau.fk5hip  = iauFk5hip;
iau.fk5hz   = iauFk5hz;
iau.fw2m    = iauFw2m;
iau.fw2xy   = iauFw2xy;
iau.gc2gd   = iauGc2gd;
iau.gc2gde  = iauGc2gde;
iau.gd2gc   = iauGd2gc;
iau.gd2gce  = iauGd2gce;
iau.gmst00  = iauGmst00;
iau.gmst06  = iauGmst06;
iau.gmst82  = iauGmst82;
iau.gst00a  = iauGst00a;
iau.gst00b  = iauGst00b;
iau.gst06   = iauGst06;
iau.gst06a  = iauGst06a;
iau.gst94   = iauGst94;
iau.h2fk5   = iauH2fk5;
iau.hfk5z   = iauHfk5z;
iau.ir      = iauIr;
iau.jd2cal  = iauJd2cal;
iau.jdcalf  = iauJdcalf;
iau.ld      = iauLd;
iau.ldn     = iauLdn;
iau.ldsun   = iauLdsun;
iau.num00a  = iauNum00a;
iau.num00b  = iauNum00b;
iau.num06a  = iauNum06a;
iau.numat   = iauNumat;
iau.nut00a  = iauNut00a;
iau.nut00b  = iauNut00b;
iau.nut06a  = iauNut06a;
iau.nut80   = iauNut80;
iau.nutm80  = iauNutm80;
iau.obl06   = iauObl06;
iau.obl80   = iauObl80;
iau.p06e    = iauP06e;
iau.p2pv    = iauP2pv;
iau.p2s     = iauP2s;
iau.pap     = iauPap;
iau.pas     = iauPas;
iau.pb06    = iauPb06;
iau.pdp     = iauPdp;
iau.pfw06   = iauPfw06;
iau.plan94  = iauPlan94;
iau.pm      = iauPm;
iau.pmat00  = iauPmat00;
iau.pmat06  = iauPmat06;
iau.pmat76  = iauPmat76;
iau.pmp     = iauPmp;
iau.pmpx    = iauPmpx;
iau.pmsafe  = iauPmsafe;
iau.pn      = iauPn;
iau.pn00    = iauPn00;
iau.pn00a   = iauPn00a;
iau.pn00b   = iauPn00b;
iau.pn06    = iauPn06;
iau.pn06a   = iauPn06a;
iau.pnm00a  = iauPnm00a;
iau.pnm00b  = iauPnm00b;
iau.pnm06a  = iauPnm06a;
iau.pnm80   = iauPnm80;
iau.pom00   = iauPom00;
iau.ppp     = iauPpp;
iau.ppsp    = iauPpsp;
iau.pr00    = iauPr00;
iau.prec76  = iauPrec76;
iau.pv2p    = iauPv2p;
iau.pv2s    = iauPv2s;
iau.pvdpv   = iauPvdpv;
iau.pvm     = iauPvm;
iau.pvmpv   = iauPvmpv;
iau.pvppv   = iauPvppv;
iau.pvstar  = iauPvstar;
iau.pvtob   = iauPvtob;
iau.pvu     = iauPvu;
iau.pvup    = iauPvup;
iau.pvxpv   = iauPvxpv;
iau.pxp     = iauPxp;
iau.refco   = iauRefco;
iau.rm2v    = iauRm2v;
iau.rv2m    = iauRv2m;
iau.rx      = iauRx;
iau.rxp     = iauRxp;
iau.rxpv    = iauRxpv;
iau.rxr     = iauRxr;
iau.ry      = iauRy;
iau.rz      = iauRz;
iau.s00     = iauS00;
iau.s00a    = iauS00a;
iau.s00b    = iauS00b;
iau.s06     = iauS06;
iau.s06a    = iauS06a;
iau.s2c     = iauS2c;
iau.s2p     = iauS2p;
iau.s2pv    = iauS2pv;
iau.s2xpv   = iauS2xpv;
iau.sepp    = iauSepp;
iau.seps    = iauSeps;
iau.sp00    = iauSp00;
iau.starpm  = iauStarpm;
iau.starpv  = iauStarpv;
iau.sxp     = iauSxp;
iau.sxpv    = iauSxpv;
iau.taitt   = iauTaitt;
iau.taiut1  = iauTaiut1;
iau.taiutc  = iauTaiutc;
iau.tcbtdb  = iauTcbtdb;
iau.tcgtt   = iauTcgtt;
iau.tdbtcb  = iauTdbtcb;
iau.tdbtt   = iauTdbtt;
iau.tf2a    = iauTf2a;
iau.tf2d    = iauTf2d;
iau.tr      = iauTr;
iau.trxp    = iauTrxp;
iau.trxpv   = iauTrxpv;
iau.tttai   = iauTttai;
iau.tttcg   = iauTttcg;
iau.tttdb   = iauTttdb;
iau.ttut1   = iauTtut1;
iau.ut1tai  = iauUt1tai;
iau.ut1tt   = iauUt1tt;
iau.ut1utc  = iauUt1utc;
iau.utctai  = iauUtctai;
iau.utcut1  = iauUtcut1;
iau.xy06    = iauXy06;
iau.xys00a  = iauXys00a;
iau.xys00b  = iauXys00b;
iau.xys06a  = iauXys06a;
iau.zp      = iauZp;
iau.zpv     = iauZpv;
iau.zr      = iauZr;
iau.ltpequ  = iauLtpequ;
iau.ltpecl  = iauLtpecl;
iau.ltpb    = iauLtpb;
iau.ltp     = iauLtp;
iau.lteqec  = iauLteqec;
iau.ltecm   = iauLtecm;
iau.lteceq  = iauLteceq;
iau.icrs2g  = iauIcrs2g;
iau.g2icrs  = iauG2icrs;
iau.eqec06  = iauEqec06;
iau.ecm06   = iauEcm06;
iau.eceq06  = iauEceq06;
			</append>

			<append>})(IAU)</append>

			<!-- where to store the resulting files -->
			<output path="dist/sofa.src.js" target="join" />
			<output path="dist/sofa.min.js" target="compile" />

		</js>

	</merge>

</xml>